# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

### variables

set $mod Mod4
set $term xfce4-terminal
set $menu rofi -modi drun#run#window#keys -show drun -font "monospace 12" -width 40
set $lock ~/.config/i3/scripts/lock.sh
set $close_apps ~/.config/i3/scripts/close_apps.sh
set $exit i3-msg exit
set $nagbar i3-nagbar

### options

font pango:monospace 7
focus_follows_mouse no

### exec

# wallpaper
exec_always --no-startup-id feh --bg-fill --no-fehbg ~/Pictures/wallpapers/current

# autostart
#exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
#exec --no-startup-id udiskie -anT2
exec --no-startup-id picom -b
exec --no-startup-id dunst -conf ~/.config/dunst/dunstrc-i3
exec --no-startup-id xinput disable $(xinput | pcregrep -o1 "Touchpad\s+id=(\d+)")
exec --no-startup-id xset s 600 && xset dpms 300 600 660
exec --no-startup-id xss-lock -l -- $lock
exec --no-startup-id thunar --daemon
exec --no-startup-id networkd-notify
exec --no-startup-id systembus-notify
exec --no-startup-id fcitx5 -d
exec --no-startup-id gammastep

### key bindings

include ~/.config/sway/config.d/01-key-bindings-and-workspace-rules

# Screenshot
bindsym $mod+Print --release exec --no-startup-id "maim -s -u ~/Pictures/screenshots/$(date -Is).png"

# Caps Lock indicator
bindsym --release Caps_Lock exec pkill -SIGRTMIN+3 i3blocks

## Manual management of external displays
set $mode_display Ext Screen (h) HDMI ON, (o) HDMI OFF
mode "$mode_display" {
    bindsym h exec --no-startup-id xrandr --output HDMI-1 --auto --right-of eDP-1, mode "default"
    bindsym o exec --no-startup-id xrandr --output HDMI-1 --auto --off, mode "default"

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
# Declare here the shortcut to bring the display selection menu
bindsym $mod+x mode "$mode_display"

### styling

bar {
    font pango:sans-serif 7
    bindsym button4 nop
    bindsym button5 nop
    status_command i3blocks
    colors {
        focused_workspace  #4c7899 #2075c7 #ffffff
        inactive_workspace #333333 #222222 #aaaaaa
        urgent_workspace   #2f343a #c00000 #ffffff
    }
}

# window rules
include ~/.config/sway/config.d/02-window-rules
